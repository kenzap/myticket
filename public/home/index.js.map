{"version":3,"file":"index.js","sources":["../../node_modules/@kenzap/k-cloud/index.js","../../src/_/_cnt_home.js","../../src/home/index.js"],"sourcesContent":["/**\n * @name initHeader\n * @description Initiates Kenzap Cloud extension header and related scripts. Verifies user sessions, handles SSO, does cloud space navigation, initializes i18n localization. \n * @param {object} response\n */\nexport const initHeader = (response) => {\n\n    // cache header from backend\n    if(response.header) localStorage.setItem('header', response.header);\n  \n    // load header to html if not present\n    if(!document.querySelector(\"#k-script\")){\n  \n        let child = document.createElement('div');\n        child.innerHTML = localStorage.getItem('header');\n        child = child.firstChild;\n        document.body.prepend(child);\n  \n        // run header scripts\n        Function(document.querySelector(\"#k-script\").innerHTML).call('test');\n    }\n  \n    // load locales if present\n    if(response.locale) window.i18n.init(response.locale); \n}\n\n/**\n * @name showLoader\n * @description Initiates full screen three dots loader.\n */\nexport const showLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'block';\n}\n\n/**\n * @name hideLoader\n * @description Removes full screen three dots loader.\n */\nexport const hideLoader = () => {\n\n    let el = document.querySelector(\".loader\");\n    if (el) el.style.display = 'none';\n}\n\n/**\n * @name initFooter\n * @description Removes full screen three dots loader.\n * @param {string} left - Text or html code to be present on the left bottom side of screen\n * @param {string} right - Text or html code to be present on the left bottom side of screen\n */\nexport const initFooter = (left, right) => {\n\n    document.querySelector(\"footer .row\").innerHTML = `\n    <div class=\"d-sm-flex justify-content-center justify-content-sm-between\">\n        <span class=\"text-muted text-center text-sm-left d-block d-sm-inline-block\">${left}</span>\n        <span class=\"float-none float-sm-right d-block mt-1 mt-sm-0 text-center text-muted\">${right}</span>\n    </div>`;\n}\n\n/**\n * @name link\n * @description Handles Cloud navigation links between extensions and its pages. Takes care of custom url parameters.\n * @param {string} slug - Any inbound link\n * \n * @returns {string} link - Returns original link with kenzp cloud space ID identifier.\n */\nexport const link = (slug) => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let sid = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    let postfix = slug.indexOf('?') == -1 ? '?sid='+sid : '&sid='+sid;\n\n    return slug + postfix;\n}\n\n/**\n * @name getSiteId\n * @description Gets current Kenzap Cloud space ID identifier from the URL.\n * \n * @returns {string} id - Kenzap Cloud space ID.\n */\nexport const getSiteId = () => {\n    \n    let urlParams = new URLSearchParams(window.location.search);\n    let id = urlParams.get('sid') ? urlParams.get('sid') : \"\";\n\n    return id;\n}\n\n/**\n * @name setCookie\n * @description Set cookie by its name to all .kenzap.com subdomains\n * @param {string} name - Cookie name.\n * @param {string} value - Cookie value.\n * @param {string} days - Number of days when cookie expires.\n */\n export const setCookie = (name, value, days) => {\n\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \";expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (escape(value) || \"\") + expires + \";path=/;domain=.kenzap.com\"; \n}\n\n/**\n * @name getCookie\n * @description Read cookie by its name.\n * @param {string} cname - Cookie name.\n * \n * @returns {string} value - Cookie value.\n */\nexport const getCookie = (cname) => {\n\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n        }\n    }\n    return \"\";\n}\n\n/**\n * @name parseApiError\n * @description Set default logics for different API Error responses.\n * @param {object} object - API response.\n */\nexport const parseApiError = (data) => {\n \n    switch(data.code){\n\n        // unauthorized\n        case 401:\n\n            // dev mode\n            if(window.location.href.indexOf('localhost')){ \n\n                alert(data.reason); \n                return; \n            }\n\n            // production mode\n            location.href=\"https://auth.kenzap.com/?app=65432108792785&redirect=\"+window.location.href; break;\n        \n        // something else\n        default:\n\n            alert(data.reason); \n            break;\n    }\n}\n\n/**\n * @name initBreadcrumbs\n * @description Render ui breadcrumbs.\n * @param {array} data - List of link objects containing link text and url. If url is missing then renders breadcrumb as static text. Requires html holder with .bc class.\n */\nexport const initBreadcrumbs = (data) => {\n\n    let html = '<ol class=\"breadcrumb mt-2 mb-0\">';\n    for(let bc of data){\n        \n        if(typeof(bc.link) === 'undefined'){\n\n            html += `<li class=\"breadcrumb-item\">${ bc.text }</li>`;\n        }else{\n\n            html += `<li class=\"breadcrumb-item\"><a href=\"${ bc.link }\">${ bc.text }</a></li>`;\n        }\n    }\n    html += '</ol>';\n    \n    document.querySelector(\".bc\").innerHTML = html;\n}\n\n/**\n * @name onClick\n * @description One row click event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onClick = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('click', fn, true);\n        e.addEventListener('click', fn, true);\n    }\n}\n\n/**\n * @name onKeyUp\n * @description One row key up event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onKeyUp = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('keyup', fn, true);\n        e.addEventListener('keyup', fn, true);\n    }\n}\n\n/**\n * @name onChange\n * @description One row change event listener declaration. Works with one or many HTML selectors.\n * @param {string} sel - HTML selector, id, class, etc.\n * @param {string} fn - callback function fired on click event.\n */\nexport const onChange = (sel, fn) => {\n\n    if(document.querySelector(sel)) for( let e of document.querySelectorAll(sel) ){\n\n        e.removeEventListener('change', fn, true);\n        e.addEventListener('change', fn, true);\n    }\n}\n\n/**\n * @name loadScript\n * @description Asynchronous script loader function.\n * @param {string} url - HTML selector, id, class, etc.\n * @param {string} cb - callback function fired immediately after script is loaded.\n */\n export const loadScript = (url, cb) => {\n\n    if (!Array.from(document.querySelectorAll('script')).some(elm => elm.src == url)) {\n      let script = document.createElement('script')\n      script.onload = cb\n      script.src = url\n      document.getElementsByTagName('head')[0].appendChild(script)\n    }\n}\n\n/**\n * @name simulateClick\n * @description Trigger on click event without user interaction.\n * @param {string} elem - HTML selector, id, class, etc.\n */\n export const simulateClick = (elem) => {\n\n\t// create our event (with options)\n\tlet evt = new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tview: window\n\t});\n\n\t// if cancelled, don't dispatch the event\n\t!elem.dispatchEvent(evt);\n};\n\n/**\n * @name toast\n * @description Triggers toast notification. Adds toast html to the page if missing.\n * @param {string} text - Toast notification.\n */\n export const toast = (text) => {\n\n    // only add once\n    if(!document.querySelector(\".toast\")){\n\n        let html = `\n        <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>`;\n        if(document.querySelector('body > div')) document.querySelector('body > div').insertAdjacentHTML('afterend', html);\n    }\n\n    let toast = new bootstrap.Toast(document.querySelector('.toast'));\n    document.querySelector('.toast .toast-body').innerHTML = text;  \n    toast.show();\n}","import { link } from \"../_/_helpers.js\"\n\nexport const HTMLContent = (__) => {\n \n    return `\n        <div class=\"container p-edit\">\n            <div class=\"d-flex justify-content-between bd-highlight mb-3\">\n                <nav class=\"bc\" aria-label=\"breadcrumb\"></nav>\n                <button class=\"btn btn-primary btn-add\" type=\"button\">${ __('Add layout') }</button>\n            </div>\n            <div class=\"row\">\n\n                <div class=\"col-lg-12 grid-margin stretch-card\">\n                    <div class=\"card border-white shadow-sm\">\n                        <div class=\"card-body\">\n                        <h4 class=\"card-title\">${ __('Layout List') }</h4>\n                        <p class=\"form-text\">\n                            ${ __('Click on <code>option &gt; edit</code> to set up layout') }\n                        </p>\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-hover table-borderless align-middle table-striped table-p-list\" style=\"min-width: 800px;\">\n                                <thead>\n                                    <tr>\n                                    <th>${ __('ID') }</th>\n                                    <th>${ __('Title') }</th>\n                                    <th style=\"display:none;\">Zones</th>\n                                    <th style=\"display:none;\">Seats</th>\n                                    <th style=\"text-align:right;\"></th>\n                                    </tr>\n                                </thead>\n                                <tbody class=\"layout_list\">\n                                    <tr>\n                                    <td></td><td></td><td></td><td></td><td></td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n        <div class=\"modal\" tabindex=\"-1\">\n            <div class=\"modal-dialog\">\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <h5 class=\"modal-title\"></h5>\n                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                    </div>\n                    <div class=\"modal-body\">\n\n                    </div>\n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-primary btn-modal\"></button>\n                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\"></button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"position-fixed bottom-0 p-2 m-4 end-0 align-items-center\">\n            <div class=\"toast hide align-items-center text-white bg-dark border-0\" role=\"alert\" aria-live=\"assertive\"\n                aria-atomic=\"true\" data-bs-delay=\"3000\">\n                <div class=\"d-flex\">\n                    <div class=\"toast-body\"></div>\n                    <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\"\n                        aria-label=\"Close\"></button>\n                </div>\n            </div>\n        </div>\n        \n    `;\n}","// dependencies\nimport { showLoader, hideLoader, initHeader, initFooter, initBreadcrumbs, parseApiError, getCookie, onClick, getSiteId, link } from '@kenzap/k-cloud';\nimport { HTMLContent } from \"../_/_cnt_home.js\"\n\n// where everything happens\nconst _this = { \n\n    state: {\n        firstLoad: true,\n        ajaxQueue: 0\n    },\n    init: () => {\n        \n        _this.getData(); \n    },\n    getData: () => {\n\n        // show loader during first load\n        if (_this.state.firstLoad) showLoader();\n\n        // do API query\n        fetch('https://api-v1.kenzap.cloud/', {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'text/plain',\n                'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                'Kenzap-Token': getCookie('kenzap_token'),\n                'Kenzap-Sid': getSiteId(),\n            },\n            body: JSON.stringify({\n                query: {\n                    locale: {\n                        type:       'locale',\n                        id:         getCookie('lang')\n                    }\n                }\n            })\n        })\n        .then(response => response.json())\n        .then(response => {\n\n            // hide UI loader\n            // hideLoader();\n\n            if(response.success){\n\n                // init header\n                initHeader(response);\n\n                _this.getLayouts(response);\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    },\n    getLayouts: (response) => {\n\n        // do API query\n        fetch('https://api.kenzap.com/myticket/?cmd=get_layouts', {\n            method: 'get',\n            headers: {\n                'Accept': 'application/json',\n                'Content-type': 'text/plain',\n                'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                'Kenzap-Token': getCookie('kenzap_token'),\n                'Kenzap-Sid': getSiteId(),\n            },\n            // body: params\n        })\n        .then(layouts_res => layouts_res.json())\n        .then(layouts_res => {\n\n            // hide UI loader\n            // hideLoader();\n\n            console.log(layouts_res);\n            // return;\n\n            if(layouts_res.success){\n\n                // get core html content \n                _this.loadHomeStructure();  \n\n                // render table\n                _this.renderPage(layouts_res);\n\n                // listeners\n                _this.initListeners();\n\n                // initiate footer\n                _this.initFooter();\n\n                // first load\n                _this.state.firstLoad = false;\n\n            }else{\n\n                parseApiError(response);\n            }\n        })\n        .catch(error => {\n            console.error('Error:', error);\n        });\n    },\n    renderPage: (data) => {\n\n        let d = document;\n\n        // initiate breadcrumbs\n        initBreadcrumbs(\n            [\n                { link: link('https://dashboard.kenzap.cloud?launcher=myticket'), text: __('Dashboard') },\n                { text: __('MyTicket') },\n            ]\n        );\n\n        // render table\n        let layout_list = '', layouts_i = 0;\n\n        // generate website table\n        for(var i in data.layouts){\n\n            layouts_i++;\n\n            // only preview assets that are not marked as removed\n            layout_list += `\n            <tr>\n                <td>${ (parseInt(i)+1) }</td>\n                <td><a href=\"${ link('/layout-edit/?id='+data.layouts[i].id ) }\">${ data.layouts[i].title }</a></td>\n                <td style=\"display:none;\">${ data.layouts[i].count_zones }</td>\n                <td style=\"display:none;\">${ data.layouts[i].count_seats }</td>\n                <td style=\"text-align:right;\" class=\"\">\n                    <button class=\"btn btn-sm dropdown-toggle\" type=\"button\" id=\"dropdownMenuSizeButton${i}\" data-i=\"${i}\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">${ __('Option') }</button>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuSizeButton${i}\" >\n                        <a class=\"dropdown-item edit-layout\" href=\"${ link('/layout-edit/?id='+data.layouts[i].id ) }\" target=\"_self\" >${ __('Edit') }</a>\n                        <a class=\"dropdown-item duplicate-layout\" href=\"#\" data-toggle=\"modal\" data-id=\"${ data.layouts[i].id }\" >${ __('Duplicate') }</a>\n                        <a class=\"dropdown-item rename-layout\" href=\"#\" data-toggle=\"modal\" data-id=\"${ data.layouts[i].id }\" data-title=\"${ data.layouts[i].title }\">${ __('Rename') }</a>\n                        <div class=\"dropdown-divider\"></div>\n                        <a class=\"dropdown-item remove-layout\" href=\"#\" data-toggle=\"modal\" data-id=\"${ data.layouts[i].id }\" >${ __('Remove') }</a>\n                    </div>\n                </td>\n            </tr>`;\n        }\n\n        if(layouts_i==0){\n\n            d.querySelector(\".layout_list\").innerHTML = `<tr><td>${ __('No layouts to display yet') }</td><td></td><td></td><td></td><td></td></tr>`;\n        }else{\n\n            d.querySelector(\".layout_list\").innerHTML = layout_list;\n        }\n\n        hideLoader();\n    },\n    initListeners: () => {\n\n        console.log('initListeners ');\n\n        // rename layout\n        onClick('.rename-layout', _this.listeners.renameLayout);\n\n        // duplicate layout\n        onClick('.duplicate-layout', _this.listeners.duplicateLayout);\n\n        // rename layout\n        onClick('.remove-layout', _this.listeners.removeLayout);\n\n        // prevents listeners to be assigned twice\n        if(!_this.state.firstLoad) return;\n\n        // add layout listener\n        onClick('.btn-add', _this.listeners.addLayout);\n\n        // add product confirm\n        onClick('.btn-modal', _this.listeners.modalSuccessBtn);\n    },\n    listeners: {\n\n        addLayout: (e) => {\n\n            e.preventDefault();\n            \n            let modal = document.querySelector(\".modal\");\n            let modalCont = new bootstrap.Modal(modal);\n            \n            modal.querySelector(\".modal-title\").innerHTML = __('Add Layout');\n            modal.querySelector(\".btn-primary\").innerHTML = __('Add');\n            modal.querySelector(\".btn-secondary\").innerHTML = __('Cancel');\n            let id = e.currentTarget.dataset.id;\n            let title = \"\";\n            let modalHTml = `\n            <div class=\"form-cont\">\n                <div class=\"form-group mb-3\">\n                    <label for=\"p-title\" class=\"form-label\">${ __('Title') }</label>\n                    <input type=\"text\" class=\"form-control\" id=\"p-title\" autocomplete=\"off\" placeholder=\"${ __('Arena..') }\" value=\"${ title }\">\n                    <ol class=\"mt-3 form-text\">\n                        <li>Enter layout title</li>\n                        <li>Click add button</li>\n                        <li>Start creating layout</li>\n                    </ol>\n                </div>\\\n                <p class=\"mt-2 form-text fs-8\">Need help in designing your hall or stadium? <a target=\"_blank\" href=\"https://kenzap.com/seat-reservation-in-wordpress-setup-service-1014779/\">View examples</a>.</p>\n            </div>`;\n    \n            modal.querySelector(\".modal-body\").innerHTML = modalHTml;\n\n            _this.listeners.modalSuccessBtnFunc = (e) => {\n\n                e.preventDefault();\n    \n                let data = {};\n                data.title = modal.querySelector(\"#p-title\").value;\n\n                if(data.title.length<4){ alert(__('Please provide longer title')); return; }\n    \n                // send data\n                let params = new URLSearchParams();\n                params.append(\"cmd\", \"add_layout\");\n                params.append(\"title\", data.title);\n\n                // do API query\n                showLoader();\n\n                fetch('https://api.kenzap.com/myticket/', {\n                    method: 'post',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-type': 'application/x-www-form-urlencoded',\n                        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                        'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                        'Kenzap-Token': getCookie('kenzap_token'),\n                        'Kenzap-Sid': getSiteId(),\n                    },\n                    body: params\n                })\n                .then(response => response.json())\n                .then(response => {\n    \n                    if (response.success){\n    \n                        modalCont.hide();\n                        \n                        _this.getData();\n\n                    }else{\n    \n                        parseApiError(response);\n                    }\n                })\n                .catch(error => {\n                    console.error('Error:', error);\n                });\n            }\n\n            modalCont.show();\n\n            setTimeout( () => modal.querySelector(\"#p-title\").focus(),100 );\n        },\n        duplicateLayout: (e) => {\n\n            e.preventDefault();\n\n            if(!confirm(__('Duplicate this layout?'))) return;\n\n            let id = e.currentTarget.dataset.id;\n\n            e.preventDefault();\n\n            // send data\n            let params = new URLSearchParams();\n            params.append(\"cmd\", \"duplicate_layout\");\n            params.append(\"id\", id);\n\n            // do API query\n            showLoader();\n\n            fetch('https://api.kenzap.com/myticket/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/x-www-form-urlencoded',\n                    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                    'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                    'Kenzap-Token': getCookie('kenzap_token'),\n                    'Kenzap-Sid': getSiteId(),\n                },\n                body: params\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n    \n                    _this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n        },\n        removeLayout: (e) => {\n\n            e.preventDefault();\n\n            if(!confirm(__('Permanently remove this layout?'))) return;\n\n            let id = e.currentTarget.dataset.id;\n\n            e.preventDefault();\n\n            // send data\n            let params = new URLSearchParams();\n            params.append(\"cmd\", \"remove_layout\");\n            params.append(\"id\", id);\n\n            // do API query\n            showLoader();\n\n            fetch('https://api.kenzap.com/myticket/', {\n                method: 'post',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-type': 'application/x-www-form-urlencoded',\n                    'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                    'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                    'Kenzap-Token': getCookie('kenzap_token'),\n                    'Kenzap-Sid': getSiteId(),\n                },\n                body: params\n            })\n            .then(response => response.json())\n            .then(response => {\n\n                if (response.success){\n    \n                    _this.getData();\n\n                }else{\n\n                    parseApiError(response);\n                }\n            })\n            .catch(error => {\n                console.error('Error:', error);\n            });\n        \n        },\n        renameLayout: (e) => {\n\n            e.preventDefault();\n            \n            let modal = document.querySelector(\".modal\");\n            let modalCont = new bootstrap.Modal(modal);\n            \n            modal.querySelector(\".modal-title\").innerHTML = __('Rename Layout');\n            modal.querySelector(\".btn-primary\").innerHTML = __('Rename');\n            modal.querySelector(\".btn-secondary\").innerHTML = __('Cancel');\n            let id = e.currentTarget.dataset.id;\n            let title = e.currentTarget.dataset.title;\n            let modalHTml = `\\\n\n            <div class=\"form-cont\">\\\n                <div class=\"form-group mb-3\">\\\n                    <label for=\"p-title\" class=\"form-label\">${ __('Title') }</label>\\\n                    <input type=\"text\" class=\"form-control\" id=\"p-title\" autocomplete=\"off\" placeholder=\"\" value=\"${ title }\">\\\n                </div>\\\n            </div>`;\n    \n            modal.querySelector(\".modal-body\").innerHTML = modalHTml;\n\n            _this.listeners.modalSuccessBtnFunc = (e) => {\n\n                e.preventDefault();\n    \n                let data = {};\n                data.title = modal.querySelector(\"#p-title\").value;\n\n                if(data.title.length<4){ alert(__('Please provide longer title')); return; }\n    \n                // send data\n                let params = new URLSearchParams();\n                params.append(\"cmd\", \"rename_layout\");\n                params.append(\"title\", data.title);\n                params.append(\"id\", id);\n\n                // do API query\n                showLoader();\n\n                fetch('https://api.kenzap.com/myticket/', {\n                    method: 'post',\n                    headers: {\n                        'Accept': 'application/json',\n                        'Content-type': 'application/x-www-form-urlencoded',\n                        'Authorization': 'Bearer ' + getCookie('kenzap_api_key'),\n                        'Kenzap-Header': localStorage.hasOwnProperty('header'),\n                        'Kenzap-Token': getCookie('kenzap_token'),\n                        'Kenzap-Sid': getSiteId(),\n                    },\n                    body: params\n                })\n                .then(response => response.json())\n                .then(response => {\n    \n                    if (response.success){\n    \n                        modalCont.hide();\n                        \n                        _this.getData();\n\n                    }else{\n    \n                        parseApiError(response);\n                    }\n                })\n                .catch(error => {\n                    console.error('Error:', error);\n                });\n            }\n\n            modalCont.show();\n\n            setTimeout( () => modal.querySelector(\"#p-title\").focus(),100 );\n        },\n        modalSuccessBtn: (e) => {\n            \n            _this.listeners.modalSuccessBtnFunc(e);\n        },\n\n        modalSuccessBtnFunc: null\n    },\n    loadHomeStructure: () => {\n\n        if(!_this.state.firstLoad) return;\n\n        // get core html content \n        document.querySelector('#contents').innerHTML = HTMLContent(__);\n    },\n    initFooter: () => {\n        \n        initFooter(__('Copyright © '+new Date().getFullYear()+' <a class=\"text-muted\" href=\"https://kenzap.com/\" target=\"_blank\">Kenzap</a>. All rights reserved.'), __('Kenzap Cloud Services - Dashboard'));\n    }\n}\n\n_this.init();\n"],"names":["HTMLContent","__","_this","state","firstLoad","ajaxQueue","init","getData","showLoader","fetch","method","headers","getCookie","localStorage","hasOwnProperty","getSiteId","body","JSON","stringify","query","locale","type","id","then","response","json","success","initHeader","getLayouts","parseApiError","error","console","layouts_res","log","loadHomeStructure","renderPage","initListeners","initFooter","data","d","document","initBreadcrumbs","link","text","layout_list","layouts_i","i","layouts","parseInt","title","count_zones","count_seats","querySelector","innerHTML","hideLoader","onClick","listeners","renameLayout","duplicateLayout","removeLayout","addLayout","modalSuccessBtn","e","preventDefault","modal","modalCont","bootstrap","Modal","currentTarget","dataset","modalHTml","modalSuccessBtnFunc","value","length","alert","params","URLSearchParams","append","hide","show","setTimeout","focus","confirm","Date","getFullYear"],"mappings":"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"}